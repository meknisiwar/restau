/* filepath: public/css/site.css */

:root {
  --primary: #0077a3; /* sea blue */
  --primary-start: #2bb7d9;
  --primary-end: #0077a3;
  --secondary: #053842; /* deep teal */
  --muted: rgba(5,56,66,0.7);
  --bg-light: #f6fbfb;
  --bg-mid: #e6f7f9;
  --card-surface: #ffffff;
  --accent: #f3fcfd;
  --radius: 12px;
}

body {
  background: linear-gradient(180deg, var(--bg-light), var(--bg-mid));
  color: #052e30;
  font-family: 'Manrope', 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, Arial;
}

.navbar-brand { font-weight: 600; }

.product-card { transition: transform .18s ease, box-shadow .18s ease; overflow: hidden; }
.product-card:hover { transform: translateY(-6px); box-shadow: 0 18px 50px rgba(7,45,50,0.06); }
.product-card .card-img-top { height: 220px; object-fit: cover; }

/* Quick-add overlay on product cards */
.product-card .position-relative { overflow: hidden; }
.quick-add-overlay { position: absolute; inset: 0; display: none; background: linear-gradient(180deg, rgba(2,6,23,0.35), rgba(2,6,23,0.15)); }
.product-card:hover .quick-add-overlay, .quick-add-overlay { display: flex; }
.quick-add-overlay .btn { border-radius: .5rem; }

.card-title { font-size: 1.05rem; font-weight: 600; }

footer { border-top: 1px solid rgba(255,255,255,.05); }

/* Product gallery */
.product-gallery .main-product-image { width: 100%; height: 420px; object-fit: cover; border-radius: 10px; }
.product-thumbs .thumb-img { width: 80px; height: 60px; object-fit: cover; border-radius: 8px; border: 1px solid rgba(4,47,47,0.04); }

/* Buttons */
.btn-primary {
  background: linear-gradient(180deg, var(--primary-start), var(--primary-end));
  border: none;
  color: #fff;
  border-radius: .6rem;
  padding: .45rem .9rem;
  box-shadow: 0 8px 30px rgba(3,119,163,0.12);
}

/* Outline primary: use primary color for text/border and a solid primary background when active */
.btn-outline-primary {
  color: var(--primary);
  background: transparent;
  border: 1px solid rgba(3,119,163,0.12);
}
.btn-outline-primary:hover {
  color: #fff;
  background: linear-gradient(180deg, var(--primary-start), var(--primary-end));
  border-color: rgba(3,119,163,0.18);
}

/* Make outline primary appear filled when active (for the category pills) */
.btn-outline-primary.active, .btn-outline-primary:active, .btn-outline-primary:focus {
  color: #fff !important;
  background: linear-gradient(180deg, var(--primary-start), var(--primary-end)) !important;
  border-color: rgba(3,119,163,0.18) !important;
  box-shadow: 0 8px 20px rgba(3,119,163,0.12);
}

/* Button group / pill appearance for category filters */
.btn-group .btn {
  border-radius: 12px;
  padding: .55rem 1.05rem;
}
.btn-group .btn + .btn { margin-left: 4px; }

.btn-group .btn.active, .btn-group .btn:active {
  color: #fff;
  background: linear-gradient(180deg, var(--primary-start), var(--primary-end));
  border-color: rgba(3,119,163,0.18);
}

/* Ensure small outline light buttons keep readable contrast */
.btn-outline-light { color: var(--secondary); border-color: rgba(4,47,47,0.06); }

/* Hero carousel */
.hero { padding: 4rem 0; position: relative; overflow: hidden; }
.hero .hero-media { border-radius: 16px; overflow: hidden; box-shadow: 0 12px 40px rgba(7,45,50,0.06); }
.hero .display-4 { color: rgba(3,44,46,0.95); font-weight: 700; line-height:1.05; }
.hero .lead { color: rgba(3,44,46,0.7); }

/* Small helpers */
.rounded { border-radius: .8rem !important; }

/* Responsive tweaks */
@media (max-width: 991px) {
  .navbar-search input.form-control { width: 180px; }
}
@media (max-width: 767px) {
  .card-img-top { height: 180px !important; }
  .navbar-search input.form-control { width: 140px; }
  .site-navbar .nav-link { padding: .5rem .6rem; }
  .sticky-reserve { right: 12px; bottom: 18px; padding: .55rem .8rem; }
  .floating-call { right: 12px; bottom: 78px; }
}

.topbar { font-size: .9rem; }
.nav-elevated { box-shadow: 0 6px 20px rgba(15,23,42,.12); transition: box-shadow .2s ease; }

.site-footer { background: linear-gradient(180deg, #eef9fa, #e6f7f9); border-top: 1px solid rgba(4,47,47,0.04); padding-top: 2.5rem; }
.site-footer a { color: var(--secondary); }
.site-footer .small { color: rgba(255,255,255,.7); }

/* Newsletter input small */
.site-footer input.form-control { background: rgba(255,255,255,.05); border: 1px solid rgba(255,255,255,.06); color: #fff; }
.site-footer .btn-primary { background: linear-gradient(180deg, var(--primary-start), var(--primary-end)); border: none; }

/* Navbar */
.site-navbar {
  background: rgba(255,255,255,0.95);
  border-bottom: 1px solid rgba(4,47,47,0.06);
  backdrop-filter: blur(6px);
}
.site-navbar .navbar-brand { gap:.6rem; }
.site-navbar .navbar-brand img { width:56px;height:56px;border-radius:12px;object-fit:cover;border:1px solid rgba(4,47,47,0.06); }
.site-navbar .nav-link { color: rgba(4,47,47,0.86); font-weight:600; padding: .6rem 1rem; text-transform: uppercase; letter-spacing: .6px; font-size: .95rem; }
.site-navbar .nav-link:hover { color: var(--primary); }

.navbar-search input.form-control {
  width: 320px;
  background: rgba(4,47,47,0.03);
  border: 1px solid rgba(4,47,47,0.06);
  color: rgba(4,47,47,0.9);
  border-radius: .6rem;
  padding: .5rem .75rem;
}
.btn-search { background: transparent; color: var(--primary); border: none; padding: .35rem .6rem; }

/* Dropdown menu styles */
.dropdown-menu {
  z-index: 1100;
  border-radius: 0.6rem;
  box-shadow: 0 10px 40px rgba(0,0,0,0.15);
  border: 1px solid rgba(0,0,0,0.08);
  padding: 0.5rem 0;
}

.dropdown-menu.show {
  display: block !important;
}

.dropdown-item {
  padding: 0.6rem 1rem;
  font-size: 0.95rem;
  transition: background 0.15s ease;
}

.dropdown-item:hover {
  background: rgba(3,119,163,0.08);
}

.dropdown-item i {
  width: 20px;
}

.nav-item.dropdown {
  position: relative;
}

/* User dropdown button styling */
.dropdown .btn-link.nav-link {
  text-decoration: none;
  color: rgba(4,47,47,0.86);
  padding: 0.5rem;
  border: none;
  background: transparent;
}

.dropdown .btn-link.nav-link:hover {
  color: var(--primary);
}

.dropdown .btn-link.nav-link:focus {
  box-shadow: none;
  outline: none;
}

/* Ensure dropdown works properly */
.dropdown-toggle {
  cursor: pointer;
}

.dropdown-menu {
  min-width: 200px;
}

/* Custom User Menu Styles */
.user-menu-container {
  position: relative;
}

.user-menu-toggle {
  text-decoration: none !important;
  color: rgba(4,47,47,0.86) !important;
  padding: 0.5rem;
  border: none !important;
  background: transparent !important;
  cursor: pointer;
  transition: color 0.15s ease;
}

.user-menu-toggle:hover {
  color: var(--primary) !important;
  background: transparent !important;
}

.user-menu-toggle:focus {
  box-shadow: none !important;
  outline: none !important;
}

.user-menu-dropdown {
  position: absolute;
  right: 0;
  top: 100%;
  z-index: 1100;
  min-width: 200px;
  padding: 0.5rem 0;
  margin: 0.5rem 0 0;
  background-color: #ffffff;
  border: 1px solid rgba(0,0,0,0.08);
  border-radius: 0.6rem;
  box-shadow: 0 10px 40px rgba(0,0,0,0.15);
  display: none;
}

.user-menu-item {
  display: block;
  width: 100%;
  padding: 0.6rem 1rem;
  clear: both;
  font-weight: 400;
  color: #212529;
  text-align: inherit;
  text-decoration: none;
  white-space: nowrap;
  background-color: transparent;
  border: 0;
  font-size: 0.95rem;
  transition: background 0.15s ease;
}

.user-menu-item:hover {
  color: #1e2125;
  background-color: rgba(3,119,163,0.08);
  text-decoration: none;
}

.user-menu-item i {
  width: 20px;
}

.user-menu-item.text-warning:hover {
  background-color: rgba(255, 193, 7, 0.1);
}

.user-menu-item.text-danger:hover {
  background-color: rgba(220, 53, 69, 0.1);
}

.user-menu-divider {
  height: 0;
  margin: 0.5rem 0;
  overflow: hidden;
  border-top: 1px solid rgba(0, 0, 0, 0.15);
}

/* Responsive adjustments */
@media (max-width: 767.98px) {
  .user-menu-dropdown {
    right: -1rem;
    min-width: 180px;
  }
}

/* Elegant Dark theme variables */
.theme-elegant-dark {
  --primary: #E6B05C; /* gold */
  --primary-start: #F1C97A;
  --primary-end: #E6B05C;
  --secondary: #0F1724; /* charcoal */
  --accent: #6B7C93; /* muted steel */
  --bg: #0B0F14; /* background */
  --bg-2: #071018;
  --text: #ECEFF1;
  --muted: rgba(236,239,241,0.75);
  --bg-image: '/images/food_bg.jpg';
  --bg-dark: #0b0f14;
  --bg-mid: rgba(11,15,20,0.55);
}

/* Apply dark theme colors */
.theme-elegant-dark body {
  background: linear-gradient(180deg, var(--bg-dark), #15181b);
  color: var(--text);
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* Soft blurred photo layer for depth. Use small opacity for subtlety. */
.theme-elegant-dark::before {
  content: "";
  position: fixed;
  inset: -10% -10% -10% -10%; /* slightly larger to avoid visible edges when blurred */
  background-image: url('/images/food_bg.jpg');
  background-size: cover;
  background-position: center;
  filter: grayscale(60%) blur(6px) contrast(85%);
  transform: scale(1.03);
  opacity: 0.06; /* subtle */
  pointer-events: none;
  z-index: -2;
}

/* Gradient + vignette overlay to focus content in the center */
.theme-elegant-dark::after {
  content: "";
  position: fixed;
  inset: 0;
  background: radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,0.02), transparent 8%),
              linear-gradient(180deg, rgba(6,8,12,0.55), rgba(6,8,12,0.65));
  pointer-events: none;
  z-index: -1;
}

/* Ensure page children are above overlay */
.theme-elegant-dark > * { position: relative; z-index: 1; }

/* Make surfaces more visible against layered background */
.theme-elegant-dark .card,
.theme-elegant-dark .product-card,
.theme-elegant-dark .category-card,
.theme-elegant-dark .hero,
.theme-elegant-dark .featured .card {
  background-color: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.06);
  backdrop-filter: blur(6px) saturate(120%);
}

/* Topbar should be distinct but not harsh */
.theme-elegant-dark .topbar { background: rgba(27,27,31,0.95) !important; color: var(--muted) !important; }

/* Make navbar solid for readability */
.theme-elegant-dark .navbar { background: transparent; }
.theme-elegant-dark .navbar.navbar-dark.bg-dark { background: rgba(27,27,31,0.98) !important; }
.theme-elegant-dark .navbar-brand, .theme-elegant-dark .navbar-nav .nav-link { color: var(--text) !important; }

/* Product cards on dark bg */
.theme-elegant-dark .product-card:hover { box-shadow: 0 12px 30px rgba(2,6,23,0.6); transform: translateY(-6px); }

/* Buttons */
.theme-elegant-dark .btn-primary {
  background: linear-gradient(180deg, var(--primary-start), var(--primary-end));
  color: var(--secondary);
  border: none;
  box-shadow: 0 6px 18px rgba(230,176,92,0.12);
}
.theme-elegant-dark .btn-outline-primary { color: var(--primary); border-color: rgba(230,176,92,0.15); }
.theme-elegant-dark .btn-outline-light { color: var(--text); border-color: rgba(255,255,255,0.12); }

/* Footer */
.theme-elegant-dark .site-footer { background: rgba(27,27,31,0.98); border-top: 1px solid rgba(255,255,255,0.04); color: var(--muted); }
.theme-elegant-dark .site-footer a { color: var(--text); }
.theme-elegant-dark .site-footer input.form-control { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); color: var(--text); }
.theme-elegant-dark .site-footer .btn-primary { background: linear-gradient(180deg,var(--primary-start),var(--primary-end)); color: var(--secondary); border: none; }

/* Navbar elevation tweak */
.theme-elegant-dark .nav-elevated { box-shadow: 0 8px 30px rgba(2,6,23,0.6); transition: box-shadow .2s ease; }

/* Make badges and CTA clearer */
.theme-elegant-dark .badge.bg-danger { background: #ff6b6b; color: #fff; }

/* Improve card text contrast slightly */
.theme-elegant-dark .card, .theme-elegant-dark .card h5, .theme-elegant-dark .card .card-title { color: var(--text); }

/* Performance note: if you prefer no fixed background on mobile, disable it there */
@media (max-width: 767px) {
  .theme-elegant-dark::before { position: absolute; inset: 0; transform: none; }
}

/* Accent badges */
.badge-sea { background: linear-gradient(180deg,#2bb7d9,#0077a3); color:#fff; }

/* subtle reveal animation for sections */
.section-reveal { opacity:0; transform: translateY(8px); transition: opacity .45s ease, transform .45s ease; }
.section-reveal.visible { opacity:1; transform:none; }

/* Header / Topbar tweaks for Aquarius-like look */
.slim-topbar { background: linear-gradient(90deg, rgba(3,119,163,0.06), rgba(3,119,163,0.02)); border-bottom: 1px solid rgba(3,119,163,0.03); }
.slim-topbar .badge-sea { background: linear-gradient(90deg,#2bb7d9,#0077a3); color:#fff; padding:.35rem .6rem; border-radius:999px; }

/* Sticky Reserve CTA */
.sticky-reserve { position: fixed; right: 20px; bottom: 24px; z-index: 1050; background: linear-gradient(90deg,#2bb7d9,#0077a3); color:#fff; padding: .6rem .9rem; border-radius: 999px; box-shadow: 0 12px 34px rgba(3,119,163,0.18); }
.sticky-reserve i { transform: translateY(1px); }

/* Floating call on mobile */
.floating-call { position: fixed; right: 20px; bottom: 90px; z-index: 1060; background: var(--primary); color: #fff; width:48px; height:48px; border-radius:50%; box-shadow: 0 8px 24px rgba(3,119,163,0.14); }

/* Product cards: make image-first */
.product-card .card-body { padding: .9rem; }
.product-card .card-footer { background: transparent; border-top: none; }

/* Admin Dashboard Event Cards */
.bg-purple {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
}

.bg-teal {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%) !important;
}

/* User Profile Dropdown Styling */
.user-profile-btn {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: #ffffff;
  border-radius: 12px;
  padding: 8px 16px;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  min-width: 160px;
}

.user-profile-btn:hover,
.user-profile-btn:focus,
.user-profile-btn.show {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
  color: #ffffff;
  transform: translateY(-1px);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

.user-avatar {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 16px;
}

.user-info .user-name {
  font-weight: 600;
  font-size: 14px;
  line-height: 1.2;
  margin-bottom: 2px;
}

.user-info .user-role {
  font-size: 11px;
  opacity: 0.8;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Dropdown Menu Styling */
.user-dropdown-menu {
  background: #ffffff;
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-radius: 12px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.12);
  padding: 8px 0;
  margin-top: 8px;
  min-width: 220px;
  animation: slideDown 0.2s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.user-dropdown-menu .dropdown-item {
  padding: 12px 20px;
  font-size: 14px;
  color: #374151;
  border-radius: 8px;
  margin: 2px 8px;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
}

.user-dropdown-menu .dropdown-item:hover,
.user-dropdown-menu .dropdown-item:focus {
  background: #f8fafc;
  color: var(--primary-end);
  transform: translateX(4px);
}

.user-dropdown-menu .dropdown-item i {
  width: 16px;
  height: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 12px;
  opacity: 0.7;
  transition: opacity 0.2s ease;
}

.user-dropdown-menu .dropdown-item:hover i {
  opacity: 1;
}

.user-dropdown-menu .admin-item {
  background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
  color: var(--primary-end);
  font-weight: 600;
}

.user-dropdown-menu .admin-item:hover {
  background: linear-gradient(135deg, var(--primary-start), var(--primary-end));
  color: white;
}

.user-dropdown-menu .admin-item i {
  color: var(--primary-end);
}

.user-dropdown-menu .admin-item:hover i {
  color: white;
}

.user-dropdown-menu .logout-item {
  margin-top: 4px;
  color: #dc2626;
}

.user-dropdown-menu .logout-item:hover {
  background: #fee2e2;
  color: #dc2626;
}

.user-dropdown-menu .dropdown-divider {
  margin: 8px 16px;
  border-color: rgba(0, 0, 0, 0.08);
}

/* Mobile responsiveness */
@media (max-width: 768px) {
  .user-profile-btn {
    min-width: auto;
    padding: 8px 12px;
  }
  
  .user-dropdown-menu {
    min-width: 200px;
    right: 0;
  }
}

/* Dark theme adjustments */
.theme-elegant-dark .user-dropdown-menu {
  background: rgba(27, 27, 31, 0.98);
  border-color: rgba(255, 255, 255, 0.1);
}

.theme-elegant-dark .user-dropdown-menu .dropdown-item {
  color: var(--text);
}

.theme-elegant-dark .user-dropdown-menu .dropdown-item:hover {
  background: rgba(255, 255, 255, 0.05);
  color: var(--primary-start);
}

.theme-elegant-dark .user-dropdown-menu .dropdown-divider {
  border-color: rgba(255, 255, 255, 0.1);
}
